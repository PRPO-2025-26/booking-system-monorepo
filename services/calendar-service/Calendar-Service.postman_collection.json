{
	"info": {
		"_postman_id": "calendar-service-api",
		"name": "Calendar Service API",
		"description": "Google Calendar integration service for booking system. Supports event creation, updates, cancellation, and synchronization with Google Calendar.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/health",
					"host": ["{{baseUrl}}"],
					"path": ["health"]
				},
				"description": "Check if the Calendar Service is running and healthy."
			},
			"response": []
		},
		{
			"name": "Create Calendar Event",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"bookingId\": 123,\n  \"userId\": 456,\n  \"facilityId\": 789,\n  \"title\": \"Tennis Court Booking\",\n  \"description\": \"Regular tennis court booking for doubles match\",\n  \"location\": \"Sports Center - Court 1\",\n  \"startTime\": \"2025-12-15T14:00:00\",\n  \"endTime\": \"2025-12-15T16:00:00\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/events",
					"host": ["{{baseUrl}}"],
					"path": ["events"]
				},
				"description": "Create a new calendar event and sync it to Google Calendar."
			},
			"response": []
		},
		{
			"name": "Create Event - Minimal",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"bookingId\": 124,\n  \"userId\": 456,\n  \"facilityId\": 789,\n  \"title\": \"Basketball Court Booking\",\n  \"startTime\": \"2025-12-16T10:00:00\",\n  \"endTime\": \"2025-12-16T11:30:00\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/events",
					"host": ["{{baseUrl}}"],
					"path": ["events"]
				},
				"description": "Create a calendar event with minimal required fields."
			},
			"response": []
		},
		{
			"name": "Get Event by ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/events/{{eventId}}",
					"host": ["{{baseUrl}}"],
					"path": ["events", "{{eventId}}"]
				},
				"description": "Retrieve a specific calendar event by its ID."
			},
			"response": []
		},
		{
			"name": "Get Event by Booking ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/events/booking/{{bookingId}}",
					"host": ["{{baseUrl}}"],
					"path": ["events", "booking", "{{bookingId}}"]
				},
				"description": "Retrieve the calendar event associated with a specific booking."
			},
			"response": []
		},
		{
			"name": "Get Events by User ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/events/user/{{userId}}",
					"host": ["{{baseUrl}}"],
					"path": ["events", "user", "{{userId}}"]
				},
				"description": "Retrieve all calendar events for a specific user."
			},
			"response": []
		},
		{
			"name": "Get Upcoming Events",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/events/user/{{userId}}/upcoming",
					"host": ["{{baseUrl}}"],
					"path": ["events", "user", "{{userId}}", "upcoming"]
				},
				"description": "Retrieve upcoming events for a user (next 7 days by default)."
			},
			"response": []
		},
		{
			"name": "Get Upcoming Events - Custom Days",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/events/user/{{userId}}/upcoming?days=14",
					"host": ["{{baseUrl}}"],
					"path": ["events", "user", "{{userId}}", "upcoming"],
					"query": [
						{
							"key": "days",
							"value": "14",
							"description": "Number of days to look ahead"
						}
					]
				},
				"description": "Retrieve upcoming events for a user with custom number of days."
			},
			"response": []
		},
		{
			"name": "Update Event",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"title\": \"Updated Tennis Court Booking\",\n  \"description\": \"Updated: Tennis court booking with coach\",\n  \"location\": \"Sports Center - Court 2\",\n  \"startTime\": \"2025-12-15T15:00:00\",\n  \"endTime\": \"2025-12-15T17:00:00\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/events/{{eventId}}",
					"host": ["{{baseUrl}}"],
					"path": ["events", "{{eventId}}"]
				},
				"description": "Update an existing calendar event. Only provided fields will be updated."
			},
			"response": []
		},
		{
			"name": "Update Event - Partial",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"title\": \"Modified Event Title\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/events/{{eventId}}",
					"host": ["{{baseUrl}}"],
					"path": ["events", "{{eventId}}"]
				},
				"description": "Partially update a calendar event (only title in this example)."
			},
			"response": []
		},
		{
			"name": "Cancel Event",
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/events/{{eventId}}/cancel",
					"host": ["{{baseUrl}}"],
					"path": ["events", "{{eventId}}", "cancel"]
				},
				"description": "Cancel a calendar event. This marks the event as CANCELLED and removes it from Google Calendar."
			},
			"response": []
		},
		{
			"name": "Delete Event",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/events/{{eventId}}",
					"host": ["{{baseUrl}}"],
					"path": ["events", "{{eventId}}"]
				},
				"description": "Permanently delete a calendar event from database and Google Calendar."
			},
			"response": []
		},
		{
			"name": "Error - Invalid Event (Missing Fields)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"bookingId\": 125,\n  \"title\": \"Invalid Event\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/events",
					"host": ["{{baseUrl}}"],
					"path": ["events"]
				},
				"description": "Test error handling for invalid event creation (missing required fields)."
			},
			"response": []
		},
		{
			"name": "Error - Invalid Time Range",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"bookingId\": 126,\n  \"userId\": 456,\n  \"facilityId\": 789,\n  \"title\": \"Invalid Time Range\",\n  \"startTime\": \"2025-12-15T16:00:00\",\n  \"endTime\": \"2025-12-15T14:00:00\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/events",
					"host": ["{{baseUrl}}"],
					"path": ["events"]
				},
				"description": "Test error handling for invalid time range (end time before start time)."
			},
			"response": []
		},
		{
			"name": "Error - Event Not Found",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/events/99999",
					"host": ["{{baseUrl}}"],
					"path": ["events", "99999"]
				},
				"description": "Test 404 error handling for non-existent event."
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8084/api/calendar",
			"type": "string"
		},
		{
			"key": "eventId",
			"value": "1",
			"type": "string"
		},
		{
			"key": "bookingId",
			"value": "123",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "456",
			"type": "string"
		}
	]
}
